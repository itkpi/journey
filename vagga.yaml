containers:
  journey:
    setup:
    - !Ubuntu trusty
    - !UbuntuUniverse
    - !AptTrust keys: [93763AC528C8C52568951BE0D5495F657635B973]
    - !UbuntuPPA ubuntu-lxc/lxd-stable
    - !Install [ca-certificates, git, golang, gcc, build-essential]
    - !Sh |
        GOPATH=/opt go get journey
        GOPATH=/opt go build journey
  journeydev:
    setup:
    - !Ubuntu trusty
    - !UbuntuUniverse
    - !AptTrust keys: [93763AC528C8C52568951BE0D5495F657635B973]
    - !UbuntuPPA ubuntu-lxc/lxd-stable
    - !Install [ca-certificates, git, golang, gcc, build-essential]

commands:
  journey-dev: !Command
    container: journeydev
    run: |
        GOPATH=/work go get journey
        GOPATH=/work go build journey
        /work/journey
